(require :asdf)
(require :uiop)

(defvar *ql-https-dir*
  (merge-pathnames "common-lisp/source/ql-https/"
                   (uiop:getenv-absolute-directory "XDG_DATA_HOME")))

#-quicklisp
(let ((quicklisp-init (merge-pathnames *ql-https-dir* "ql-setup.lisp")))
  (when (probe-file quicklisp-init)
    (load quicklisp-init)
    (asdf:load-system "ql-https")
    (uiop:symbol-call :quicklisp :setup)))

#+ql-https
(setf ql-https:*quietly-use-https* t)

#+sbcl
(set-sbcl-source-location "~/code/sbcl/")
